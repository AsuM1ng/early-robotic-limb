EPOS使用流程说明：
启动时：id-0x00, 数据长度2，Data[1] = 0x01, Data[2] = 0x00。NMT节点管理，启动CAN网络操控
后续：
EPOS_disable
activ_模式
EPOS_disable
EPOS_enable
参数设置
EPOS_enable
（一段时间）
Halt


细节问题：
	1、位置模式结束后自动处于Halt状态
	2、位置模式的速度始终是大于0的，不用考虑速度的正负
	3、位置模式涉及到正负，要算补码的时候，直接换成int类再换回u32就行
	4、关于上电：EPOS拨码开关关闭自动波特率，并开启终端电阻；STM32上电必须在EPOS上电之后，否则会卡住。
	5、EPOS上电会发送一个报文，0x700 + nodeID + 数据。数据：0――BootUp，4――Stopped，5――Operational，7F――Pre-Operational
	6、EPOS关闭自动比特率之后默认比特率为1000，调整的话需要通过字典去修改。
	7、位置模式状态询问看0x6041(StatusWord)，bit_10是Target_reached。位置模式结束之后会自动暂停，但状态标志位并不是Halt，这一点很奇怪，我没搞懂为什么，所以看是否完成是最直接的。
	8、位置模式的状态字和速度模式不一样，需要做实验测量。
	9、终端电阻并非恒定120Ω，取决于连接方式和实际匹配。实际上要求终端的总电阻值为60Ω。
	

非严重错误处理方式：Send NMT command reset communication, then reset fault with Controlword



肩关节水平节点――EC60，减速比120，面向机械臂正面，+位置转向右边，-位置转向左边
肩关节垂直节点――EC90，减速比120，面向机械臂正面，+位置转向右边，-位置转向左边
肘关节弯曲节点――EC60，减速比120，面向机械臂正面，+位置向后，-位置向前

ready动作和回到原点的动作，速度均设置为120rpm，加速度、减速度均为240rpm/s.加/减速度期间位移为0.5转，也就是2048inc

回到0点时间计算：
设总位置为x,
当x > 4096inc时：
	t = (x - 2048*2)/4096/2 + 1
当x < 4096inc时：
	t = 1
	
加速度为a1，加速段时间为t1，减速度为a2，减速段时间为t2，匀速速度为v，匀速段时间为t，总时间为t总，总路程为x
a1*t1^2/2 + a2*t2^2/2 + vt = x
t1 = v/a1
t2 = v/a2
t = x/v - v/2/a1 + v/2/a2
t总 = x/v + v/2/a1 + v/2/a2
注：单位分子全部为inc
	
	
主控过来的信号说明：
格式0xFF FF FF 0x 00 00 00 00
FFFFFF算是id，指令看0x
x = 1，ready动作
x = 2，halt动作
x = 3，zero动作
x = 4，drink动作
x = 5，salut动作
x = 6，gymnastics动作
后面可加。


然后missonp结构体的状态是根据这个来的



轮询系统构建思路，利用CAN中断来处理上位机标志位。任务派下去改变任务正在进行中的标志位。这样任务就不会被其他任务打断，且能够随时暂停
任务队列可以回头探索一下。
定时器的作用改为为任务等待时间定时和轮询期间发送轮询信号定时。